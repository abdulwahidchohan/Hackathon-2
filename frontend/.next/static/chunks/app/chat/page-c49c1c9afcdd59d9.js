(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{63:(e,t,r)=>{"use strict";var a=r(7260);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},883:(e,t,r)=>{"use strict";r.d(t,{Hh:()=>i,Jv:()=>s,gf:()=>o,yK:()=>a});let a=(0,r(7027).M)({baseURL:"https://hackathon-2-todo-pi.vercel.app"}),{signIn:s,signOut:n,signUp:i,useSession:l}=a;async function o(){var e,t;let{data:r}=await a.getSession();return null!=(t=null==r||null==(e=r.session)?void 0:e.token)?t:null}},4649:(e,t,r)=>{Promise.resolve().then(r.bind(r,8052))},4926:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5121).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},5016:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2821),s=r(5889);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},6170:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var a=r(5155),s=r(2115),n=r(5016);let i=s.forwardRef((e,t)=>{let{className:r,type:s,...i}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},7003:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var a=r(5155),s=r(2115),n=r(2467),i=r(3101),l=r(5016);let o=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:c=!1,...d}=e,u=c?n.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:s,size:i,className:r})),ref:t,...d})});c.displayName="Button"},7621:(e,t,r)=>{"use strict";r.d(t,{UT:()=>i,gJ:()=>d,lC:()=>l,q5:()=>c,vq:()=>o,x1:()=>n});var a=r(883);async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=await (0,a.gf)(),s=new Headers(t.headers);return r&&s.set("Authorization","Bearer ".concat(r)),fetch("".concat("http://localhost:8000").concat(e),{...t,headers:s})}async function n(e){let t=await s("/api/".concat(encodeURIComponent(e),"/tasks"));if(!t.ok)throw Error(await t.text());return t.json()}async function i(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"medium",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=await s("/api/".concat(encodeURIComponent(e),"/tasks"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,description:r,priority:a,tags:n,due_date:i,recurring_rule:l})});if(!o.ok)throw Error(await o.text());return o.json()}async function l(e,t,r){let a=await s("/api/".concat(encodeURIComponent(e),"/tasks/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw Error(await a.text());return a.json()}async function o(e,t){let r=await s("/api/".concat(encodeURIComponent(e),"/tasks/").concat(t),{method:"DELETE"});if(!r.ok)throw Error(await r.text());return r.json()}async function c(e,t){let r=await s("/api/".concat(encodeURIComponent(e),"/tasks/").concat(t,"/complete"),{method:"PATCH"});if(!r.ok)throw Error(await r.text());return r.json()}async function d(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=await s("/api/".concat(encodeURIComponent(e),"/chat"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t,conversation_id:r})});if(!a.ok)throw Error(await a.text());return a.json()}},8052:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var a=r(5155),s=r(2115),n=r(2619),i=r.n(n),l=r(63),o=r(883),c=r(7621),d=r(7003),u=r(6170),h=r(5121);let m=(0,h.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),x=(0,h.A)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);var p=r(4926);let f=(0,h.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),g=(0,h.A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var b=r(8720);function y(){let e=(0,l.useRouter)(),[t,r]=(0,s.useState)(null),[n,h]=(0,s.useState)([]),[y,v]=(0,s.useState)(""),[w,j]=(0,s.useState)(!1),[N,k]=(0,s.useState)(null),S=(0,s.useRef)(null);async function E(e){if(e.preventDefault(),!(null==t?void 0:t.id)||!y.trim()||w)return;let r=y.trim();v(""),h(e=>[...e,{role:"user",content:r}]),j(!0);try{let e=await (0,c.gJ)(t.id,r,N);k(e.conversation_id),h(t=>[...t,{role:"assistant",content:e.response}])}catch(e){b.oR.error(e instanceof Error?e.message:"Send failed"),h(e=>e.slice(0,-1)),v(r)}finally{j(!1)}}return((0,s.useEffect)(()=>{(async()=>{let{data:t}=await o.yK.getSession();if(!(null==t?void 0:t.user))return e.replace("/login");r(t.user)})()},[e]),(0,s.useEffect)(()=>{var e;null==(e=S.current)||e.scrollIntoView({behavior:"smooth"})},[n]),t)?(0,a.jsxs)("div",{className:"min-h-screen flex flex-col bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-slate-900 via-[#0a0a0a] to-black text-white overflow-hidden relative",children:[(0,a.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0",children:[(0,a.jsx)("div",{className:"absolute top-[-10%] right-[30%] w-[600px] h-[600px] bg-primary/5 rounded-full blur-[120px] animate-pulse-slow"}),(0,a.jsx)("div",{className:"absolute bottom-[20%] left-[10%] w-[300px] h-[300px] bg-accent/5 rounded-full blur-[80px] animate-pulse-slow delay-2000"})]}),(0,a.jsx)("header",{className:"flex-none glass border-b border-white/5 p-4 z-10",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(i(),{href:"/dashboard",children:(0,a.jsx)(d.$,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-white hover:bg-white/10 rounded-full",children:(0,a.jsx)(m,{className:"w-5 h-5"})})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-lg font-bold flex items-center gap-2",children:[(0,a.jsx)(x,{className:"w-5 h-5 text-primary"}),"AI Assistant"]}),(0,a.jsxs)("p",{className:"text-xs text-green-400 flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse"}),"Online"]})]})]}),(0,a.jsxs)(d.$,{variant:"ghost",size:"sm",onClick:async()=>{await o.yK.signOut(),e.push("/login")},className:"text-gray-400 hover:text-white hover:bg-white/10",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 z-10 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6 pb-20",children:[0===n.length&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center opacity-50",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mb-6 ring-1 ring-primary/30",children:(0,a.jsx)(x,{className:"w-10 h-10 text-primary"})}),(0,a.jsx)("h3",{className:"text-xl font-medium text-white mb-2",children:"How can I help you today?"}),(0,a.jsxs)("p",{className:"text-gray-400 max-w-sm",children:["Try asking: ",(0,a.jsx)("br",{}),' "Add a task to buy groceries"',(0,a.jsx)("br",{}),' "Show my high priority tasks"',(0,a.jsx)("br",{}),' "Mark task 3 as complete"']})]}),n.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start gap-4 ".concat("user"===e.role?"flex-row-reverse":"flex-row"),children:[(0,a.jsx)("div",{className:"\n                flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ring-1\n                ".concat("user"===e.role?"bg-accent/20 ring-accent/50 text-accent":"bg-primary/20 ring-primary/50 text-primary","\n              "),children:"user"===e.role?(0,a.jsx)(f,{className:"w-4 h-4"}):(0,a.jsx)(x,{className:"w-4 h-4"})}),(0,a.jsx)("div",{className:"\n                relative px-5 py-3.5 max-w-[80%] rounded-2xl text-sm leading-relaxed shadow-lg backdrop-blur-sm\n                ".concat("user"===e.role?"bg-accent/10 border border-accent/20 text-blue-100 rounded-tr-none":"bg-white/5 border border-white/10 text-gray-200 rounded-tl-none","\n              "),children:(0,a.jsx)("div",{className:"whitespace-pre-wrap",children:e.content})})]},t)),w&&(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/20 ring-1 ring-primary/50 flex items-center justify-center text-primary",children:(0,a.jsx)(x,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{className:"px-5 py-3.5 bg-white/5 border border-white/10 rounded-2xl rounded-tl-none flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce"})]})]}),(0,a.jsx)("div",{ref:S})]})}),(0,a.jsx)("div",{className:"flex-none p-4 glass border-t border-white/10 z-20",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto w-full",children:[(0,a.jsxs)("form",{onSubmit:E,className:"relative flex items-center gap-2",children:[(0,a.jsx)(u.p,{placeholder:"Type your command...",value:y,onChange:e=>v(e.target.value),disabled:w,className:"pr-12 bg-black/50 border-white/10 text-white placeholder:text-gray-500 focus:ring-primary/50 focus:border-primary/50 h-12 rounded-full shadow-inner"}),(0,a.jsx)(d.$,{type:"submit",disabled:w||!y.trim(),className:"absolute right-1 top-1 h-10 w-10 rounded-full bg-primary hover:bg-primary/90 text-black shadow-[0_0_10px_rgba(6,182,212,0.4)] transition-all p-0 flex items-center justify-center",children:(0,a.jsx)(g,{className:"w-4 h-4"})})]}),(0,a.jsx)("p",{className:"text-center text-[10px] text-gray-600 mt-2 uppercase tracking-widest opacity-50",children:"AI Powered Task Management System v2.0"})]})})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:(0,a.jsxs)("div",{className:"animate-pulse flex flex-col items-center gap-4",children:[(0,a.jsx)("div",{className:"h-12 w-12 rounded-full border-t-2 border-primary animate-spin"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Establishing Link..."})]})})}}},e=>{e.O(0,[635,720,441,255,358],()=>e(e.s=4649)),_N_E=e.O()}]);